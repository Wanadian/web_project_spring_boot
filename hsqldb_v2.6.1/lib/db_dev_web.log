/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
create table artist (id bigint not null, name varchar(255), primary key (id))
create table artist_songs (artist_id bigint not null, songs_id bigint not null, primary key (artist_id, songs_id))
create table feedback (id bigint not null, comment varchar(255), mark integer not null, song_id bigint, primary key (id))
create table song (id bigint not null, date timestamp, title varchar(255), type varchar(255), url varchar(255), artist_id bigint, primary key (id))
alter table artist_songs add constraint UK_3qph0ppn71qet4scor1pbkt7n unique (songs_id)
create sequence hibernate_sequence start with 1 increment by 1
alter table artist_songs add constraint FK9sxbcsxn524jlck2lhhwhjyed foreign key (songs_id) references song
alter table artist_songs add constraint FKjjyo25pdjcr93i65q3dsvtdv1 foreign key (artist_id) references artist
alter table feedback add constraint FK6pi2r2yd9lnd2gd6n8me14iai foreign key (song_id) references song
alter table song add constraint FKa21ft97nj7thwrp5d31xdaxr foreign key (artist_id) references artist
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
set schema PUBLIC
drop table ARTIST_SONGS
drop table FEEDBACK
drop table SONG
drop table ARTIST
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
create table artist (id bigint not null, name varchar(255), primary key (id))
create table feedback (id bigint not null, comment varchar(255), mark integer not null, song_id bigint, primary key (id))
create table song (id bigint not null, date timestamp, title varchar(255), type varchar(255), url varchar(255), artist_id bigint, primary key (id))
alter table feedback add constraint FK6pi2r2yd9lnd2gd6n8me14iai foreign key (song_id) references song
alter table song add constraint FKa21ft97nj7thwrp5d31xdaxr foreign key (artist_id) references artist
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
INSERT INTO ARTIST VALUES(1,'Imagine Dragons')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
DELETE FROM ARTIST WHERE ID=1
COMMIT
